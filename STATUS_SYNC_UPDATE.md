# üîÑ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –ø–∞—Å—Ç

## üö® –ü—Ä–æ–±–ª–µ–º–∞

### **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ:**
- –ü–∞—Å—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ "–ò—Å—Ç–µ–∫–ª–∞" –≤ –∫–æ–ª–æ–Ω–∫–µ "–í–†–ï–ú–Ø –ñ–ò–ó–ù–ò"
- –ù–æ –ø—Ä–∏ —ç—Ç–æ–º –≤ –∫–æ–ª–æ–Ω–∫–µ "–°–¢–ê–¢–£–°" –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ "–ê–∫—Ç–∏–≤–Ω–∞"
- –≠—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### **–ü—Ä–∏—á–∏–Ω–∞:**
- –§—É–Ω–∫—Ü–∏—è `get_remaining_time_formatted()` –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ "–ò—Å—Ç–µ–∫–ª–∞" –¥–ª—è –∏—Å—Ç–µ–∫—à–∏—Ö –ø–∞—Å—Ç
- –ù–æ –ø–æ–ª–µ `is_expired` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª–æ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –°—Ç–∞—Ç—É—Å –ø–∞—Å—Ç—ã –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∏—Å—Ç–µ—á–µ–Ω–∏—è

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### **1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è:**
- **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü** (`/`, `/recent`) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∏—Å—Ç–µ—á–µ–Ω–∏–µ –ø–∞—Å—Ç
- **–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞** –ø–∞—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∏—Å—Ç–µ—á–µ–Ω–∏–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø–æ–ª—è `is_expired` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### **2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞:**
- **Backend**: –æ–±–Ω–æ–≤–ª—è–µ—Ç `is_expired` –≤ –ë–î
- **Frontend**: JavaScript –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ**: —Å—Ç–∞—Ç—É—Å –∏ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### **Backend –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

#### **–§—É–Ω–∫—Ü–∏—è `recent_pastes()`:**
```python
@app.route('/recent')
def recent_pastes():
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ–¥–∞–≤–Ω–∏—Ö –ø–∞—Å—Ç"""
    try:
        # –ü–æ–ª—É—á–∞–µ–º –Ω–µ–¥–∞–≤–Ω–∏–µ –ø–∞—Å—Ç—ã –∏–∑ –ë–î
        pastes = Paste.query.filter_by(is_expired=False).order_by(
            Paste.created_at.desc()
        ).all()
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å—Ç–µ—á–µ–Ω–∏–µ –ø–∞—Å—Ç –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –∏—Ö —Å—Ç–∞—Ç—É—Å
        expired_pastes_ids = []
        for paste in pastes:
            if paste.expires_at and paste.expires_at < datetime.now(timezone.utc):
                paste.is_expired = True
                expired_pastes_ids.append(paste.id)
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î –µ—Å–ª–∏ –µ—Å—Ç—å –∏—Å—Ç–µ–∫—à–∏–µ –ø–∞—Å—Ç—ã
        if expired_pastes_ids:
            db.session.commit()
            print(f"–ü–∞—Å—Ç—ã {expired_pastes_ids} –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –∏—Å—Ç–µ–∫—à–∏–µ")
        
        # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

#### **–§—É–Ω–∫—Ü–∏—è `index()`:**
```python
@app.route('/')
def index():
    """–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"""
    try:
        # –ü–æ–ª—É—á–∞–µ–º –Ω–µ–¥–∞–≤–Ω–∏–µ –ø–∞—Å—Ç—ã –∏–∑ –ë–î
        recent_pastes = Paste.query.filter_by(is_expired=False).order_by(
            Paste.created_at.desc()
        ).limit(5).all()
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å—Ç–µ—á–µ–Ω–∏–µ –ø–∞—Å—Ç –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –∏—Ö —Å—Ç–∞—Ç—É—Å
        expired_pastes_ids = []
        for paste in recent_pastes:
            if paste.expires_at and paste.expires_at < datetime.now(timezone.utc):
                paste.is_expired = True
                expired_pastes_ids.append(paste.id)
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î –µ—Å–ª–∏ –µ—Å—Ç—å –∏—Å—Ç–µ–∫—à–∏–µ –ø–∞—Å—Ç—ã
        if expired_pastes_ids:
            db.session.commit()
            print(f"–ü–∞—Å—Ç—ã {expired_pastes_ids} –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –∏—Å—Ç–µ–∫—à–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ")
        
        # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

#### **–§—É–Ω–∫—Ü–∏—è `view_paste()`:**
```python
@app.route('/paste/<int:paste_id>')
def view_paste(paste_id):
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–∞—Å—Ç—ã"""
    try:
        # –ü–æ–ª—É—á–∞–µ–º –ø–∞—Å—Ç—É –∏–∑ –ë–î
        paste = Paste.query.get_or_404(paste_id)
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∏—Å—Ç–µ–∫–ª–∞ –ª–∏ –ø–∞—Å—Ç–∞
        if paste.expires_at and paste.expires_at < datetime.now(timezone.utc):
            # –ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –∏—Å—Ç–µ–∫—à—É—é –µ—Å–ª–∏ –µ—â–µ –Ω–µ –ø–æ–º–µ—á–µ–Ω–∞
            if not paste.is_expired:
                paste.is_expired = True
                db.session.commit()
                print(f"–ü–∞—Å—Ç–∞ {paste_id} –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ –∏—Å—Ç–µ–∫—à–∞—è –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞")
            
            flash('–ü–∞—Å—Ç–∞ –∏—Å—Ç–µ–∫–ª–∞', 'error')
            return redirect(url_for('index'))
        
        # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

### **Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

#### **JavaScript –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞:**
```javascript
if (remainingMinutes <= 0) {
    // –ü–∞—Å—Ç–∞ –∏—Å—Ç–µ–∫–ª–∞
    timeDisplay.textContent = "–ò—Å—Ç–µ–∫–ª–∞";
    timeDisplay.className = "time-display text-danger";
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ "–ò—Å—Ç–µ–∫–ª–∞"
    const statusCell = timeElement.closest('tr').querySelector('.badge');
    if (statusCell) {
        if (statusCell.classList.contains('bg-success')) {
            statusCell.className = 'badge bg-danger';
            statusCell.innerHTML = '<i class="fas fa-times-circle me-1"></i>–ò—Å—Ç–µ–∫–ª–∞';
        } else if (statusCell.classList.contains('bg-warning')) {
            statusCell.className = 'badge bg-danger';
            statusCell.innerHTML = '<i class="fas fa-times-circle me-1"></i>–ò—Å—Ç–µ–∫–ª–∞';
        }
    }
} else {
    // ... –∫–æ–¥ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–∞—Å—Ç
}
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå "–í–†–ï–ú–Ø –ñ–ò–ó–ù–ò": "–ò—Å—Ç–µ–∫–ª–∞"
- ‚ùå "–°–¢–ê–¢–£–°": "–ê–∫—Ç–∏–≤–Ω–∞"
- ‚ùå **–ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ** –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ "–í–†–ï–ú–Ø –ñ–ò–ó–ù–ò": "–ò—Å—Ç–µ–∫–ª–∞"
- ‚úÖ "–°–¢–ê–¢–£–°": "–ò—Å—Ç–µ–∫–ª–∞"
- ‚úÖ **–ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å—Ç–∞—Ç—É—Å–∞ –∏ –≤—Ä–µ–º–µ–Ω–∏

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### **–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- ‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - —Å—Ç–∞—Ç—É—Å –∏ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –≤—Å–µ–≥–¥–∞ —Å–æ–≤–ø–∞–¥–∞—é—Ç
- ‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å** - —Å—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### **–î–ª—è —Å–∏—Å—Ç–µ–º—ã:**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - —Å—Ç–∞—Ç—É—Å –≤—Å–µ–≥–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üì± –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `app.py` - —Ñ—É–Ω–∫—Ü–∏–∏ `recent_pastes()`, `index()`, `view_paste()`
- `templates/recent.html` - JavaScript –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- `templates/index.html` - JavaScript –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

## üîÆ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### **–í –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö:**
- **WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –ø–∞—Å—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ** –∏—Å—Ç–µ–∫—à–∏—Ö –ø–∞—Å—Ç –∏–∑ —Å–ø–∏—Å–∫–æ–≤
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∏—Å—Ç–µ—á–µ–Ω–∏—è
- **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏—Å—Ç–µ–∫—à–∏—Ö –ø–∞—Å—Ç –≤–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è

---

**–¢–µ–ø–µ—Ä—å —Å—Ç–∞—Ç—É—Å –ø–∞—Å—Ç –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏!** üîÑ‚ú®
